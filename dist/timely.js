function t(t,e){let a,n,r,s,o,i;const y=e.replace(/y|m|d|h|m|s/gi,"")[0];switch(e){case"yyyy-MM-dd":case"yyyy/MM/dd":return[a,n,r]=t.split(y),{year:a,month:n,day:r};case"dd-MM-yyyy":case"dd.MM.yyyy":case"dd/MM/yyyy":case"dd MMM yyyy":case"dd-MMM-yyyy":case"dd.MMM.yyyy":case"dd/MMM/yyyy":return[r,n,a]=t.split(y),e.includes("MMM")&&(n=function(t){const e=t.charAt(0).toUpperCase()+t.substr(1,t.length-1).toLowerCase();return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].indexOf(e)}(n)+1),{year:a,month:n,day:r};case"HH:mm:ss":return[s,o=0,i=0]=t.split(y),{hrs:s,min:o,sec:i};default:return elog(`${e} not found @timely:39`),{}}}class e{constructor(t=new Date,e){this._locale="en-GB",this._date=this._parseInput(t,e)}_parseInput(e=new Date,a){if(e instanceof Date)return e;if(Array.isArray(e)){const[t,a=0,n=1,r=0,s=0,o=0]=e;return new Date(t,a,n,r,s,o)}return"number"==typeof e||2===e.split("T").length?new Date(e):2===e.split(" ").length?function(e,a="yyyy-MM-dd HH:mm:ss"){const[n,r]=e.split(" "),[s,o="HH:mm:ss"]=a.split(" "),{year:i,month:y,day:d}=t(n,s),{hrs:u,min:c,sec:h}=t(r,o);return new Date(+i,+y-1,+d,+u,+c,+h)}(e,a):function(e,a="yyyy-MM-dd"){const{year:n,month:r,day:s}=t(e,a);return new Date(+n,+r-1,+s)}(e,a)}format(t){return function(t,e="Date"){const a=[t.getDate(),t.getMonth()+1,t.getFullYear(),t.getHours(),t.getMinutes(),t.getSeconds()],[n,r,s,o,i,y]=a.map((t=>t.toString().padStart(2,"0")));switch(e){case"DateTime":return s+"-"+r+"-"+n+" "+o+":"+i+":"+y;case"Date":return s+"-"+r+"-"+n;case"Time":return o+":"+i+":"+y;case"HoursMinutes":return o+":"+i;case"YearMonth":return s+"-"+r;case"MonthDay":return r+"-"+n;case"Month":return parseInt(r);case"dd/MM/yyyy":return n+"/"+r+"/"+s;default:elog(`${e} not found @timely:102`)}}(this._date,t)}locale(t){return function(t,e={}){const a=e.locale?e.locale:"en-GB",n=e.format?e.format:"DateShortMonth",r=new Date("2100-01-01");if(t.getTime()==r.getTime())return"Present";const s="numeric",o="long",i="short",y="2-digit",d=s,u=o;switch(n){case"Date":return t.toLocaleDateString(a,{year:d,month:y,day:y});case"DateTime":return t.toLocaleDateString(a,{year:d,month:y,day:y,hour:"2-digit",minute:"2-digit"});case"LongDate":return t.toLocaleDateString(a,{year:d,weekday:u,month:o,day:s});case"ShortDate":return t.toLocaleDateString(a,{year:d,month:i,day:s});case"DateWithLongMonth":return t.toLocaleDateString(a,{year:d,month:o,day:s});case"LongDayAndMonth":return t.toLocaleDateString(a,{weekday:u,month:o,day:s});case"ShortMonth":return t.toLocaleDateString(a,{month:i});default:elog(`${n} not found @timely:123`)}}(this._date,t)}setTime(t,e=0,a=0){return this._date.setHours(+t,+e,+a),this}setDate(t,e=0,a=1){return this._date.setFullYear(+t,+e,+a),this}subtract(t,e="days"){return"days"==e&&this._date.setDate(this._date.getDate()-t),this}timeZone(t="UTC"){return this._date.toLocaleTimeString("en-GB",{timeZone:t})}instance(){return this._date}toString(){return this._date.toISOString()}year(){return this._date.getFullYear()}month(t="index"){const e=this._date;return"index"===t?e.getMonth():e.toLocaleString(this._locale,{month:t})}day(){return this._date.getDate()}weekday(t="index"){const e=this._date;return"index"===t?e.getDay():e.toLocaleString(this._locale,{weekday:t})}time(){return this._date.getTime()}diff(t,e="hrs"){const a=this._parseInput(t),n=this._date-a,r={sec:1e3,min:6e4,hrs:36e5,days:864e5}[e];return Math.floor(Math.abs(n/r))}isEqual(t){const e=this._parseInput(t);return this._date.getFullYear()===e.getFullYear()&&this._date.getMonth()===e.getMonth()&&this._date.getDate()===e.getDate()}isLeapYear(t){return t%100==0?t%400==0:t%4==0}daysInMonth(){const t=this._date.getFullYear(),e=this._date.getMonth();return[31,this.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]}getUTCDate(){const t=this._date;let e=t.getUTCDate(),a=t.getUTCMonth()+1,n=t.getUTCFullYear(),r=t.getUTCHours(),s=t.getUTCMinutes(),o=t.getUTCSeconds();return e=e<10?"0"+e:e,a=a<10?"0"+a:a,r=r<10?"0"+r:r,s=s<10?"0"+s:s,o=o<10?"0"+o:o,n+"-"+a+"-"+e+" "+r+":"+s+":"+o}}export default(t,a)=>new e(t,a);
